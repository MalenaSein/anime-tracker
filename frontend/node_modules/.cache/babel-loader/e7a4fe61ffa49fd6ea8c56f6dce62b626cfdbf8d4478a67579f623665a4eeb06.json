{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Malenit\\\\Desktop\\\\proyectos\\\\anime-tracker\\\\frontend\\\\src\\\\components\\\\AnimeCard.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { ChevronUp, ChevronDown, MoreVertical, Star, Trash2, Check, PlayCircle, Edit2, X, Save } from 'lucide-react';\nimport { createPortal } from 'react-dom';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ANIME_TYPES = ['Shonen', 'Shojo', 'Seinen', 'Josei', 'Kodomomuke', 'Isekai', 'Mecha', 'Slice of Life', 'Romance', 'Comedia', 'Drama', 'Acci칩n', 'Aventura', 'Fantas칤a', 'Sci-Fi', 'Horror', 'Misterio', 'Deportes', 'Musical', 'Ecchi', 'Harem', 'Yaoi', 'Yuri', 'Supernatural', 'Otro'];\nconst AnimeCard = ({\n  anime,\n  isWatching,\n  onUpdate,\n  onDelete\n}) => {\n  _s();\n  const [showMenu, setShowMenu] = useState(false);\n  const [showRating, setShowRating] = useState(false);\n  const [rating, setRating] = useState(0);\n  const [isEditing, setIsEditing] = useState(false);\n  const [menuPosition, setMenuPosition] = useState({\n    top: 0,\n    left: 0\n  });\n  const menuButtonRef = useRef(null);\n  const menuRef = useRef(null);\n  const [editedData, setEditedData] = useState({\n    nombre: anime.nombre,\n    tipo: anime.tipo\n  });\n\n  // Calcular posici칩n del men칰 cuando se abre\n  useEffect(() => {\n    if (showMenu && menuButtonRef.current) {\n      const rect = menuButtonRef.current.getBoundingClientRect();\n      setMenuPosition({\n        top: rect.bottom + window.scrollY + 5,\n        left: rect.left + window.scrollX - 140\n      });\n    }\n  }, [showMenu]);\n\n  // Cerrar men칰 al hacer clic fuera\n  useEffect(() => {\n    const handleClickOutside = event => {\n      if (showMenu && menuButtonRef.current && !menuButtonRef.current.contains(event.target) && menuRef.current && !menuRef.current.contains(event.target)) {\n        setShowMenu(false);\n      }\n    };\n    if (showMenu) {\n      document.addEventListener('mousedown', handleClickOutside);\n      return () => document.removeEventListener('mousedown', handleClickOutside);\n    }\n  }, [showMenu]);\n  const handleUpdateCapitulos = async delta => {\n    const newCaps = Math.max(0, anime.capitulos_vistos + delta);\n    await onUpdate(anime.id, {\n      capitulos_vistos: newCaps,\n      estado: anime.estado,\n      calificacion: anime.calificacion,\n      nombre: anime.nombre\n    });\n  };\n  const handleChangeEstado = async (nuevoEstado, calificacion = 0) => {\n    await onUpdate(anime.id, {\n      capitulos_vistos: anime.capitulos_vistos,\n      estado: nuevoEstado,\n      calificacion,\n      nombre: anime.nombre\n    });\n  };\n  const handleFinish = async () => {\n    await handleChangeEstado('completado', rating);\n    setShowRating(false);\n    setRating(0);\n  };\n  const handleSaveEdit = async () => {\n    if (editedData.nombre.trim()) {\n      await onUpdate(anime.id, {\n        nombre: editedData.nombre.trim(),\n        tipo: editedData.tipo,\n        capitulos_vistos: anime.capitulos_vistos,\n        estado: anime.estado,\n        calificacion: anime.calificacion\n      });\n      setIsEditing(false);\n    }\n  };\n  const handleMenuAction = async action => {\n    // Primero cerramos el men칰\n    setShowMenu(false);\n\n    // Peque침o delay para que se cierre el men칰 antes de ejecutar la acci칩n\n    await new Promise(resolve => setTimeout(resolve, 50));\n\n    // Ejecutamos la acci칩n\n    action();\n  };\n  const styles = {\n    row: {\n      display: 'grid',\n      gridTemplateColumns: isWatching ? '80px 1fr 150px 150px 120px 100px' : '80px 1fr 150px 150px 120px 140px 100px',\n      gap: '1rem',\n      padding: '1rem',\n      borderBottom: '1px solid #e5e7eb',\n      alignItems: 'center',\n      background: 'white',\n      transition: 'background-color 0.2s'\n    },\n    imageContainer: {\n      width: '70px',\n      height: '100px'\n    },\n    image: {\n      width: '100%',\n      height: '100%',\n      objectFit: 'cover',\n      borderRadius: '0.375rem',\n      border: '2px solid #e5e7eb'\n    },\n    input: {\n      width: '100%',\n      padding: '0.5rem',\n      border: '1px solid #d1d5db',\n      borderRadius: '0.375rem',\n      fontSize: '0.875rem',\n      boxSizing: 'border-box'\n    },\n    select: {\n      width: '100%',\n      padding: '0.375rem',\n      border: '1px solid #d1d5db',\n      borderRadius: '0.375rem',\n      fontSize: '0.75rem',\n      background: 'white',\n      boxSizing: 'border-box'\n    },\n    name: {\n      fontWeight: '600',\n      color: '#1f2937',\n      fontSize: '0.875rem'\n    },\n    tag: {\n      display: 'inline-block',\n      background: '#f3e8ff',\n      color: '#7c3aed',\n      fontSize: '0.75rem',\n      padding: '0.25rem 0.5rem',\n      borderRadius: '0.25rem',\n      fontWeight: '500'\n    },\n    capitulosControls: {\n      display: 'flex',\n      alignItems: 'center',\n      gap: '0.5rem',\n      background: '#f3f4f6',\n      borderRadius: '0.5rem',\n      padding: '0.25rem 0.5rem',\n      width: 'fit-content'\n    },\n    capitulosButton: {\n      padding: '0.25rem',\n      border: 'none',\n      background: 'transparent',\n      cursor: 'pointer',\n      borderRadius: '0.25rem',\n      display: 'flex',\n      alignItems: 'center',\n      transition: 'background-color 0.2s'\n    },\n    capitulosNumber: {\n      fontWeight: 'bold',\n      fontSize: '1rem',\n      minWidth: '40px',\n      textAlign: 'center'\n    },\n    link: {\n      color: '#3b82f6',\n      fontSize: '0.875rem',\n      textDecoration: 'none',\n      display: 'flex',\n      alignItems: 'center',\n      gap: '0.25rem'\n    },\n    starContainer: {\n      display: 'flex',\n      gap: '0.25rem'\n    },\n    menuButton: {\n      padding: '0.375rem',\n      border: 'none',\n      background: 'transparent',\n      cursor: 'pointer',\n      borderRadius: '0.25rem',\n      transition: 'background-color 0.2s'\n    },\n    menuDropdown: {\n      position: 'fixed',\n      top: menuPosition.top + 'px',\n      left: menuPosition.left + 'px',\n      background: 'white',\n      border: '1px solid #e5e7eb',\n      borderRadius: '0.5rem',\n      boxShadow: '0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)',\n      zIndex: 9999,\n      minWidth: '10rem'\n    },\n    menuItem: {\n      width: '100%',\n      textAlign: 'left',\n      padding: '0.75rem 1rem',\n      border: 'none',\n      background: 'white',\n      cursor: 'pointer',\n      display: 'flex',\n      alignItems: 'center',\n      gap: '0.5rem',\n      transition: 'background-color 0.2s',\n      fontSize: '0.875rem',\n      fontFamily: 'inherit'\n    },\n    menuItemFirst: {\n      borderTopLeftRadius: '0.5rem',\n      borderTopRightRadius: '0.5rem'\n    },\n    menuItemLast: {\n      borderBottomLeftRadius: '0.5rem',\n      borderBottomRightRadius: '0.5rem'\n    },\n    overlay: {\n      position: 'fixed',\n      inset: 0,\n      background: 'rgba(0, 0, 0, 0.5)',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      zIndex: 50\n    },\n    modal: {\n      background: 'white',\n      borderRadius: '0.5rem',\n      padding: '1.5rem',\n      maxWidth: '24rem',\n      width: '100%',\n      margin: '0 1rem'\n    },\n    modalTitle: {\n      fontSize: '1.125rem',\n      fontWeight: 'bold',\n      marginBottom: '1rem',\n      color: '#1f2937'\n    },\n    starsContainer: {\n      display: 'flex',\n      justifyContent: 'center',\n      gap: '0.5rem',\n      marginBottom: '1.5rem'\n    },\n    starButton: {\n      background: 'none',\n      border: 'none',\n      cursor: 'pointer',\n      transition: 'transform 0.2s',\n      padding: 0\n    },\n    modalButtons: {\n      display: 'flex',\n      gap: '0.5rem'\n    },\n    actionButton: {\n      flex: 1,\n      padding: '0.5rem 0.75rem',\n      borderRadius: '0.5rem',\n      border: 'none',\n      cursor: 'pointer',\n      fontWeight: '500',\n      transition: 'background-color 0.2s'\n    },\n    editButtons: {\n      display: 'flex',\n      gap: '0.25rem'\n    },\n    iconButton: {\n      padding: '0.375rem',\n      border: 'none',\n      borderRadius: '0.25rem',\n      cursor: 'pointer',\n      display: 'flex',\n      alignItems: 'center',\n      transition: 'opacity 0.2s'\n    }\n  };\n\n  // Men칰 desplegable como portal\n  const menuContent = showMenu && /*#__PURE__*/createPortal(/*#__PURE__*/_jsxDEV(\"div\", {\n    ref: menuRef,\n    style: styles.menuDropdown,\n    children: [isWatching && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => handleMenuAction(() => setIsEditing(true)),\n        style: {\n          ...styles.menuItem,\n          ...styles.menuItemFirst\n        },\n        onMouseOver: e => e.target.style.background = '#f9fafb',\n        onMouseOut: e => e.target.style.background = 'white',\n        children: [/*#__PURE__*/_jsxDEV(Edit2, {\n          size: 16\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 13\n        }, this), \" Editar\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => handleMenuAction(() => setShowRating(true)),\n        style: styles.menuItem,\n        onMouseOver: e => e.target.style.background = '#f9fafb',\n        onMouseOut: e => e.target.style.background = 'white',\n        children: [/*#__PURE__*/_jsxDEV(Check, {\n          size: 16\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 13\n        }, this), \" Finalizado\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => handleMenuAction(() => handleChangeEstado('abandonado')),\n        style: {\n          ...styles.menuItem,\n          color: '#ea580c'\n        },\n        onMouseOver: e => e.target.style.background = '#f9fafb',\n        onMouseOut: e => e.target.style.background = 'white',\n        children: [/*#__PURE__*/_jsxDEV(Trash2, {\n          size: 16\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 13\n        }, this), \" Abandonar\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true), anime.estado === 'completado' && /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => handleMenuAction(() => handleChangeEstado('viendo', 0)),\n      style: {\n        ...styles.menuItem,\n        ...styles.menuItemFirst\n      },\n      onMouseOver: e => e.target.style.background = '#f9fafb',\n      onMouseOut: e => e.target.style.background = 'white',\n      children: [/*#__PURE__*/_jsxDEV(PlayCircle, {\n        size: 16\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 11\n      }, this), \" Nueva Temporada\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 333,\n      columnNumber: 9\n    }, this), anime.estado === 'abandonado' && /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => handleMenuAction(() => handleChangeEstado('viendo')),\n      style: {\n        ...styles.menuItem,\n        ...styles.menuItemFirst\n      },\n      onMouseOver: e => e.target.style.background = '#f9fafb',\n      onMouseOut: e => e.target.style.background = 'white',\n      children: [/*#__PURE__*/_jsxDEV(PlayCircle, {\n        size: 16\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 11\n      }, this), \" Retomar\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 343,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => handleMenuAction(() => onDelete(anime.id)),\n      style: {\n        ...styles.menuItem,\n        ...styles.menuItemLast,\n        color: '#ef4444',\n        borderTop: '1px solid #e5e7eb'\n      },\n      onMouseOver: e => e.target.style.background = '#f9fafb',\n      onMouseOut: e => e.target.style.background = 'white',\n      children: [/*#__PURE__*/_jsxDEV(Trash2, {\n        size: 16\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 363,\n        columnNumber: 9\n      }, this), \" Eliminar\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 352,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 303,\n    columnNumber: 5\n  }, this), document.body);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.row,\n      onMouseOver: e => e.currentTarget.style.background = '#f9fafb',\n      onMouseOut: e => e.currentTarget.style.background = 'white',\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.imageContainer,\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: anime.imagen_url || 'https://via.placeholder.com/70x100/9333ea/ffffff?text=Anime',\n          alt: anime.nombre,\n          style: styles.image,\n          onError: e => {\n            e.target.src = 'https://via.placeholder.com/70x100/9333ea/ffffff?text=Anime';\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 378,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 377,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: isEditing ? /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: editedData.nombre,\n          onChange: e => setEditedData({\n            ...editedData,\n            nombre: e.target.value\n          }),\n          style: styles.input\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 391,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.name,\n          children: anime.nombre\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 398,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 389,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: isEditing ? /*#__PURE__*/_jsxDEV(\"select\", {\n          value: editedData.tipo,\n          onChange: e => setEditedData({\n            ...editedData,\n            tipo: e.target.value\n          }),\n          style: styles.select,\n          children: ANIME_TYPES.map(type => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: type,\n            children: type\n          }, type, false, {\n            fileName: _jsxFileName,\n            lineNumber: 411,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 405,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n          style: styles.tag,\n          children: anime.tipo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 415,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 403,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: isWatching ? /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.capitulosControls,\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleUpdateCapitulos(-1),\n            style: styles.capitulosButton,\n            onMouseOver: e => e.target.style.background = '#e5e7eb',\n            onMouseOut: e => e.target.style.background = 'transparent',\n            children: /*#__PURE__*/_jsxDEV(ChevronDown, {\n              size: 18\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 429,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 423,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            style: styles.capitulosNumber,\n            children: anime.capitulos_vistos\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 431,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleUpdateCapitulos(1),\n            style: styles.capitulosButton,\n            onMouseOver: e => e.target.style.background = '#e5e7eb',\n            onMouseOut: e => e.target.style.background = 'transparent',\n            children: /*#__PURE__*/_jsxDEV(ChevronUp, {\n              size: 18\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 438,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 432,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 422,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            color: '#6b7280',\n            fontSize: '0.875rem'\n          },\n          children: [anime.capitulos_vistos, \" caps\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 442,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 420,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"a\", {\n          href: `https://www.google.com/search?q=${encodeURIComponent(anime.nombre + ' anime')}`,\n          target: \"_blank\",\n          rel: \"noopener noreferrer\",\n          style: styles.link,\n          onMouseOver: e => e.target.style.textDecoration = 'underline',\n          onMouseOut: e => e.target.style.textDecoration = 'none',\n          children: \"\\uD83D\\uDD0D Google\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 450,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 449,\n        columnNumber: 9\n      }, this), !isWatching && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.starContainer,\n        children: anime.estado === 'completado' && anime.calificacion > 0 ? [1, 2, 3, 4, 5].map(n => /*#__PURE__*/_jsxDEV(Star, {\n          size: 16,\n          style: {\n            fill: n <= anime.calificacion ? '#facc15' : 'none',\n            color: n <= anime.calificacion ? '#facc15' : '#d1d5db'\n          }\n        }, n, false, {\n          fileName: _jsxFileName,\n          lineNumber: 467,\n          columnNumber: 17\n        }, this)) : /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            color: '#9ca3af',\n            fontSize: '0.75rem'\n          },\n          children: anime.estado === 'abandonado' ? 'Abandonado' : 'Sin calificar'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 477,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 464,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: isEditing ? /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.editButtons,\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleSaveEdit,\n            style: {\n              ...styles.iconButton,\n              background: '#10b981',\n              color: 'white'\n            },\n            children: /*#__PURE__*/_jsxDEV(Save, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 492,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 488,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              setIsEditing(false);\n              setEditedData({\n                nombre: anime.nombre,\n                tipo: anime.tipo\n              });\n            },\n            style: {\n              ...styles.iconButton,\n              background: '#ef4444',\n              color: 'white'\n            },\n            children: /*#__PURE__*/_jsxDEV(X, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 504,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 494,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 487,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n          ref: menuButtonRef,\n          onClick: e => {\n            e.stopPropagation();\n            setShowMenu(!showMenu);\n          },\n          style: styles.menuButton,\n          onMouseOver: e => e.target.style.background = '#f3f4f6',\n          onMouseOut: e => e.target.style.background = 'transparent',\n          children: /*#__PURE__*/_jsxDEV(MoreVertical, {\n            size: 20,\n            style: {\n              color: '#6b7280'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 518,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 508,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 485,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 371,\n      columnNumber: 7\n    }, this), menuContent, showRating && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.overlay,\n      onClick: () => setShowRating(false),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.modal,\n        onClick: e => e.stopPropagation(),\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: styles.modalTitle,\n          children: [\"Califica \\\"\", anime.nombre, \"\\\"\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 531,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.starsContainer,\n          children: [1, 2, 3, 4, 5].map(n => /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setRating(n),\n            style: styles.starButton,\n            onMouseOver: e => e.currentTarget.style.transform = 'scale(1.1)',\n            onMouseOut: e => e.currentTarget.style.transform = 'scale(1)',\n            children: /*#__PURE__*/_jsxDEV(Star, {\n              size: 32,\n              style: {\n                fill: n <= rating ? '#facc15' : 'none',\n                color: n <= rating ? '#facc15' : '#d1d5db'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 541,\n              columnNumber: 19\n            }, this)\n          }, n, false, {\n            fileName: _jsxFileName,\n            lineNumber: 534,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 532,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.modalButtons,\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowRating(false),\n            style: {\n              ...styles.actionButton,\n              background: '#e5e7eb',\n              color: '#1f2937'\n            },\n            onMouseOver: e => e.target.style.background = '#d1d5db',\n            onMouseOut: e => e.target.style.background = '#e5e7eb',\n            children: \"Cancelar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 552,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleFinish,\n            disabled: rating === 0,\n            style: {\n              ...styles.actionButton,\n              background: rating === 0 ? '#d1d5db' : '#9333ea',\n              color: 'white',\n              cursor: rating === 0 ? 'not-allowed' : 'pointer'\n            },\n            onMouseOver: e => {\n              if (rating > 0) e.target.style.background = '#7c3aed';\n            },\n            onMouseOut: e => {\n              if (rating > 0) e.target.style.background = '#9333ea';\n            },\n            children: \"Finalizar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 560,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 551,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 530,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 529,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n_s(AnimeCard, \"c7ihQAB6St6Nvhossn8X4cLTOrY=\");\n_c = AnimeCard;\nexport default AnimeCard;\nvar _c;\n$RefreshReg$(_c, \"AnimeCard\");","map":{"version":3,"names":["React","useState","useEffect","useRef","ChevronUp","ChevronDown","MoreVertical","Star","Trash2","Check","PlayCircle","Edit2","X","Save","createPortal","jsxDEV","_jsxDEV","Fragment","_Fragment","ANIME_TYPES","AnimeCard","anime","isWatching","onUpdate","onDelete","_s","showMenu","setShowMenu","showRating","setShowRating","rating","setRating","isEditing","setIsEditing","menuPosition","setMenuPosition","top","left","menuButtonRef","menuRef","editedData","setEditedData","nombre","tipo","current","rect","getBoundingClientRect","bottom","window","scrollY","scrollX","handleClickOutside","event","contains","target","document","addEventListener","removeEventListener","handleUpdateCapitulos","delta","newCaps","Math","max","capitulos_vistos","id","estado","calificacion","handleChangeEstado","nuevoEstado","handleFinish","handleSaveEdit","trim","handleMenuAction","action","Promise","resolve","setTimeout","styles","row","display","gridTemplateColumns","gap","padding","borderBottom","alignItems","background","transition","imageContainer","width","height","image","objectFit","borderRadius","border","input","fontSize","boxSizing","select","name","fontWeight","color","tag","capitulosControls","capitulosButton","cursor","capitulosNumber","minWidth","textAlign","link","textDecoration","starContainer","menuButton","menuDropdown","position","boxShadow","zIndex","menuItem","fontFamily","menuItemFirst","borderTopLeftRadius","borderTopRightRadius","menuItemLast","borderBottomLeftRadius","borderBottomRightRadius","overlay","inset","justifyContent","modal","maxWidth","margin","modalTitle","marginBottom","starsContainer","starButton","modalButtons","actionButton","flex","editButtons","iconButton","menuContent","ref","style","children","onClick","onMouseOver","e","onMouseOut","size","fileName","_jsxFileName","lineNumber","columnNumber","borderTop","body","currentTarget","src","imagen_url","alt","onError","type","value","onChange","map","href","encodeURIComponent","rel","n","fill","stopPropagation","transform","disabled","_c","$RefreshReg$"],"sources":["C:/Users/Malenit/Desktop/proyectos/anime-tracker/frontend/src/components/AnimeCard.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { ChevronUp, ChevronDown, MoreVertical, Star, Trash2, Check, PlayCircle, Edit2, X, Save } from 'lucide-react';\r\nimport { createPortal } from 'react-dom';\r\n\r\nconst ANIME_TYPES = [\r\n  'Shonen', 'Shojo', 'Seinen', 'Josei', 'Kodomomuke',\r\n  'Isekai', 'Mecha', 'Slice of Life', 'Romance', 'Comedia',\r\n  'Drama', 'Acci칩n', 'Aventura', 'Fantas칤a', 'Sci-Fi',\r\n  'Horror', 'Misterio', 'Deportes', 'Musical', 'Ecchi',\r\n  'Harem', 'Yaoi', 'Yuri', 'Supernatural', 'Otro'\r\n];\r\n\r\nconst AnimeCard = ({ anime, isWatching, onUpdate, onDelete }) => {\r\n  const [showMenu, setShowMenu] = useState(false);\r\n  const [showRating, setShowRating] = useState(false);\r\n  const [rating, setRating] = useState(0);\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const [menuPosition, setMenuPosition] = useState({ top: 0, left: 0 });\r\n  const menuButtonRef = useRef(null);\r\n  const menuRef = useRef(null);\r\n  const [editedData, setEditedData] = useState({\r\n    nombre: anime.nombre,\r\n    tipo: anime.tipo\r\n  });\r\n\r\n  // Calcular posici칩n del men칰 cuando se abre\r\n  useEffect(() => {\r\n    if (showMenu && menuButtonRef.current) {\r\n      const rect = menuButtonRef.current.getBoundingClientRect();\r\n      setMenuPosition({\r\n        top: rect.bottom + window.scrollY + 5,\r\n        left: rect.left + window.scrollX - 140\r\n      });\r\n    }\r\n  }, [showMenu]);\r\n\r\n  // Cerrar men칰 al hacer clic fuera\r\n  useEffect(() => {\r\n    const handleClickOutside = (event) => {\r\n      if (showMenu && \r\n          menuButtonRef.current && \r\n          !menuButtonRef.current.contains(event.target) &&\r\n          menuRef.current &&\r\n          !menuRef.current.contains(event.target)) {\r\n        setShowMenu(false);\r\n      }\r\n    };\r\n\r\n    if (showMenu) {\r\n      document.addEventListener('mousedown', handleClickOutside);\r\n      return () => document.removeEventListener('mousedown', handleClickOutside);\r\n    }\r\n  }, [showMenu]);\r\n\r\n  const handleUpdateCapitulos = async (delta) => {\r\n    const newCaps = Math.max(0, anime.capitulos_vistos + delta);\r\n    await onUpdate(anime.id, { \r\n      capitulos_vistos: newCaps,\r\n      estado: anime.estado,\r\n      calificacion: anime.calificacion,\r\n      nombre: anime.nombre\r\n    });\r\n  };\r\n\r\n  const handleChangeEstado = async (nuevoEstado, calificacion = 0) => {\r\n    await onUpdate(anime.id, { \r\n      capitulos_vistos: anime.capitulos_vistos,\r\n      estado: nuevoEstado, \r\n      calificacion,\r\n      nombre: anime.nombre\r\n    });\r\n  };\r\n\r\n  const handleFinish = async () => {\r\n    await handleChangeEstado('completado', rating);\r\n    setShowRating(false);\r\n    setRating(0);\r\n  };\r\n\r\n  const handleSaveEdit = async () => {\r\n    if (editedData.nombre.trim()) {\r\n      await onUpdate(anime.id, { \r\n        nombre: editedData.nombre.trim(),\r\n        tipo: editedData.tipo,\r\n        capitulos_vistos: anime.capitulos_vistos,\r\n        estado: anime.estado,\r\n        calificacion: anime.calificacion \r\n      });\r\n      setIsEditing(false);\r\n    }\r\n  };\r\n\r\n  const handleMenuAction = async (action) => {\r\n    // Primero cerramos el men칰\r\n    setShowMenu(false);\r\n    \r\n    // Peque침o delay para que se cierre el men칰 antes de ejecutar la acci칩n\r\n    await new Promise(resolve => setTimeout(resolve, 50));\r\n    \r\n    // Ejecutamos la acci칩n\r\n    action();\r\n  };\r\n\r\n  const styles = {\r\n    row: {\r\n      display: 'grid',\r\n      gridTemplateColumns: isWatching \r\n        ? '80px 1fr 150px 150px 120px 100px' \r\n        : '80px 1fr 150px 150px 120px 140px 100px',\r\n      gap: '1rem',\r\n      padding: '1rem',\r\n      borderBottom: '1px solid #e5e7eb',\r\n      alignItems: 'center',\r\n      background: 'white',\r\n      transition: 'background-color 0.2s'\r\n    },\r\n    imageContainer: {\r\n      width: '70px',\r\n      height: '100px'\r\n    },\r\n    image: {\r\n      width: '100%',\r\n      height: '100%',\r\n      objectFit: 'cover',\r\n      borderRadius: '0.375rem',\r\n      border: '2px solid #e5e7eb'\r\n    },\r\n    input: {\r\n      width: '100%',\r\n      padding: '0.5rem',\r\n      border: '1px solid #d1d5db',\r\n      borderRadius: '0.375rem',\r\n      fontSize: '0.875rem',\r\n      boxSizing: 'border-box'\r\n    },\r\n    select: {\r\n      width: '100%',\r\n      padding: '0.375rem',\r\n      border: '1px solid #d1d5db',\r\n      borderRadius: '0.375rem',\r\n      fontSize: '0.75rem',\r\n      background: 'white',\r\n      boxSizing: 'border-box'\r\n    },\r\n    name: {\r\n      fontWeight: '600',\r\n      color: '#1f2937',\r\n      fontSize: '0.875rem'\r\n    },\r\n    tag: {\r\n      display: 'inline-block',\r\n      background: '#f3e8ff',\r\n      color: '#7c3aed',\r\n      fontSize: '0.75rem',\r\n      padding: '0.25rem 0.5rem',\r\n      borderRadius: '0.25rem',\r\n      fontWeight: '500'\r\n    },\r\n    capitulosControls: {\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      gap: '0.5rem',\r\n      background: '#f3f4f6',\r\n      borderRadius: '0.5rem',\r\n      padding: '0.25rem 0.5rem',\r\n      width: 'fit-content'\r\n    },\r\n    capitulosButton: {\r\n      padding: '0.25rem',\r\n      border: 'none',\r\n      background: 'transparent',\r\n      cursor: 'pointer',\r\n      borderRadius: '0.25rem',\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      transition: 'background-color 0.2s'\r\n    },\r\n    capitulosNumber: {\r\n      fontWeight: 'bold',\r\n      fontSize: '1rem',\r\n      minWidth: '40px',\r\n      textAlign: 'center'\r\n    },\r\n    link: {\r\n      color: '#3b82f6',\r\n      fontSize: '0.875rem',\r\n      textDecoration: 'none',\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      gap: '0.25rem'\r\n    },\r\n    starContainer: {\r\n      display: 'flex',\r\n      gap: '0.25rem'\r\n    },\r\n    menuButton: {\r\n      padding: '0.375rem',\r\n      border: 'none',\r\n      background: 'transparent',\r\n      cursor: 'pointer',\r\n      borderRadius: '0.25rem',\r\n      transition: 'background-color 0.2s'\r\n    },\r\n    menuDropdown: {\r\n      position: 'fixed',\r\n      top: menuPosition.top + 'px',\r\n      left: menuPosition.left + 'px',\r\n      background: 'white',\r\n      border: '1px solid #e5e7eb',\r\n      borderRadius: '0.5rem',\r\n      boxShadow: '0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)',\r\n      zIndex: 9999,\r\n      minWidth: '10rem'\r\n    },\r\n    menuItem: {\r\n      width: '100%',\r\n      textAlign: 'left',\r\n      padding: '0.75rem 1rem',\r\n      border: 'none',\r\n      background: 'white',\r\n      cursor: 'pointer',\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      gap: '0.5rem',\r\n      transition: 'background-color 0.2s',\r\n      fontSize: '0.875rem',\r\n      fontFamily: 'inherit'\r\n    },\r\n    menuItemFirst: {\r\n      borderTopLeftRadius: '0.5rem',\r\n      borderTopRightRadius: '0.5rem'\r\n    },\r\n    menuItemLast: {\r\n      borderBottomLeftRadius: '0.5rem',\r\n      borderBottomRightRadius: '0.5rem'\r\n    },\r\n    overlay: {\r\n      position: 'fixed',\r\n      inset: 0,\r\n      background: 'rgba(0, 0, 0, 0.5)',\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n      zIndex: 50\r\n    },\r\n    modal: {\r\n      background: 'white',\r\n      borderRadius: '0.5rem',\r\n      padding: '1.5rem',\r\n      maxWidth: '24rem',\r\n      width: '100%',\r\n      margin: '0 1rem'\r\n    },\r\n    modalTitle: {\r\n      fontSize: '1.125rem',\r\n      fontWeight: 'bold',\r\n      marginBottom: '1rem',\r\n      color: '#1f2937'\r\n    },\r\n    starsContainer: {\r\n      display: 'flex',\r\n      justifyContent: 'center',\r\n      gap: '0.5rem',\r\n      marginBottom: '1.5rem'\r\n    },\r\n    starButton: {\r\n      background: 'none',\r\n      border: 'none',\r\n      cursor: 'pointer',\r\n      transition: 'transform 0.2s',\r\n      padding: 0\r\n    },\r\n    modalButtons: {\r\n      display: 'flex',\r\n      gap: '0.5rem'\r\n    },\r\n    actionButton: {\r\n      flex: 1,\r\n      padding: '0.5rem 0.75rem',\r\n      borderRadius: '0.5rem',\r\n      border: 'none',\r\n      cursor: 'pointer',\r\n      fontWeight: '500',\r\n      transition: 'background-color 0.2s'\r\n    },\r\n    editButtons: {\r\n      display: 'flex',\r\n      gap: '0.25rem'\r\n    },\r\n    iconButton: {\r\n      padding: '0.375rem',\r\n      border: 'none',\r\n      borderRadius: '0.25rem',\r\n      cursor: 'pointer',\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      transition: 'opacity 0.2s'\r\n    }\r\n  };\r\n\r\n  // Men칰 desplegable como portal\r\n  const menuContent = showMenu && createPortal(\r\n    <div ref={menuRef} style={styles.menuDropdown}>\r\n      {isWatching && (\r\n        <>\r\n          <button\r\n            onClick={() => handleMenuAction(() => setIsEditing(true))}\r\n            style={{ ...styles.menuItem, ...styles.menuItemFirst }}\r\n            onMouseOver={(e) => e.target.style.background = '#f9fafb'}\r\n            onMouseOut={(e) => e.target.style.background = 'white'}\r\n          >\r\n            <Edit2 size={16} /> Editar\r\n          </button>\r\n          <button\r\n            onClick={() => handleMenuAction(() => setShowRating(true))}\r\n            style={styles.menuItem}\r\n            onMouseOver={(e) => e.target.style.background = '#f9fafb'}\r\n            onMouseOut={(e) => e.target.style.background = 'white'}\r\n          >\r\n            <Check size={16} /> Finalizado\r\n          </button>\r\n          <button\r\n            onClick={() => handleMenuAction(() => handleChangeEstado('abandonado'))}\r\n            style={{ ...styles.menuItem, color: '#ea580c' }}\r\n            onMouseOver={(e) => e.target.style.background = '#f9fafb'}\r\n            onMouseOut={(e) => e.target.style.background = 'white'}\r\n          >\r\n            <Trash2 size={16} /> Abandonar\r\n          </button>\r\n        </>\r\n      )}\r\n      {anime.estado === 'completado' && (\r\n        <button\r\n          onClick={() => handleMenuAction(() => handleChangeEstado('viendo', 0))}\r\n          style={{ ...styles.menuItem, ...styles.menuItemFirst }}\r\n          onMouseOver={(e) => e.target.style.background = '#f9fafb'}\r\n          onMouseOut={(e) => e.target.style.background = 'white'}\r\n        >\r\n          <PlayCircle size={16} /> Nueva Temporada\r\n        </button>\r\n      )}\r\n      {anime.estado === 'abandonado' && (\r\n        <button\r\n          onClick={() => handleMenuAction(() => handleChangeEstado('viendo'))}\r\n          style={{ ...styles.menuItem, ...styles.menuItemFirst }}\r\n          onMouseOver={(e) => e.target.style.background = '#f9fafb'}\r\n          onMouseOut={(e) => e.target.style.background = 'white'}\r\n        >\r\n          <PlayCircle size={16} /> Retomar\r\n        </button>\r\n      )}\r\n      <button\r\n        onClick={() => handleMenuAction(() => onDelete(anime.id))}\r\n        style={{ \r\n          ...styles.menuItem, \r\n          ...styles.menuItemLast,\r\n          color: '#ef4444', \r\n          borderTop: '1px solid #e5e7eb' \r\n        }}\r\n        onMouseOver={(e) => e.target.style.background = '#f9fafb'}\r\n        onMouseOut={(e) => e.target.style.background = 'white'}\r\n      >\r\n        <Trash2 size={16} /> Eliminar\r\n      </button>\r\n    </div>,\r\n    document.body\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <div \r\n        style={styles.row}\r\n        onMouseOver={(e) => e.currentTarget.style.background = '#f9fafb'}\r\n        onMouseOut={(e) => e.currentTarget.style.background = 'white'}\r\n      >\r\n        {/* Portada */}\r\n        <div style={styles.imageContainer}>\r\n          <img \r\n            src={anime.imagen_url || 'https://via.placeholder.com/70x100/9333ea/ffffff?text=Anime'} \r\n            alt={anime.nombre}\r\n            style={styles.image}\r\n            onError={(e) => {\r\n              e.target.src = 'https://via.placeholder.com/70x100/9333ea/ffffff?text=Anime';\r\n            }}\r\n          />\r\n        </div>\r\n\r\n        {/* Nombre */}\r\n        <div>\r\n          {isEditing ? (\r\n            <input\r\n              type=\"text\"\r\n              value={editedData.nombre}\r\n              onChange={(e) => setEditedData({ ...editedData, nombre: e.target.value })}\r\n              style={styles.input}\r\n            />\r\n          ) : (\r\n            <div style={styles.name}>{anime.nombre}</div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Tipo */}\r\n        <div>\r\n          {isEditing ? (\r\n            <select\r\n              value={editedData.tipo}\r\n              onChange={(e) => setEditedData({ ...editedData, tipo: e.target.value })}\r\n              style={styles.select}\r\n            >\r\n              {ANIME_TYPES.map(type => (\r\n                <option key={type} value={type}>{type}</option>\r\n              ))}\r\n            </select>\r\n          ) : (\r\n            <span style={styles.tag}>{anime.tipo}</span>\r\n          )}\r\n        </div>\r\n\r\n        {/* Cap칤tulos */}\r\n        <div>\r\n          {isWatching ? (\r\n            <div style={styles.capitulosControls}>\r\n              <button \r\n                onClick={() => handleUpdateCapitulos(-1)}\r\n                style={styles.capitulosButton}\r\n                onMouseOver={(e) => e.target.style.background = '#e5e7eb'}\r\n                onMouseOut={(e) => e.target.style.background = 'transparent'}\r\n              >\r\n                <ChevronDown size={18} />\r\n              </button>\r\n              <span style={styles.capitulosNumber}>{anime.capitulos_vistos}</span>\r\n              <button \r\n                onClick={() => handleUpdateCapitulos(1)}\r\n                style={styles.capitulosButton}\r\n                onMouseOver={(e) => e.target.style.background = '#e5e7eb'}\r\n                onMouseOut={(e) => e.target.style.background = 'transparent'}\r\n              >\r\n                <ChevronUp size={18} />\r\n              </button>\r\n            </div>\r\n          ) : (\r\n            <span style={{ color: '#6b7280', fontSize: '0.875rem' }}>\r\n              {anime.capitulos_vistos} caps\r\n            </span>\r\n          )}\r\n        </div>\r\n\r\n        {/* B칰squeda */}\r\n        <div>\r\n          <a \r\n            href={`https://www.google.com/search?q=${encodeURIComponent(anime.nombre + ' anime')}`}\r\n            target=\"_blank\"\r\n            rel=\"noopener noreferrer\"\r\n            style={styles.link}\r\n            onMouseOver={(e) => e.target.style.textDecoration = 'underline'}\r\n            onMouseOut={(e) => e.target.style.textDecoration = 'none'}\r\n          >\r\n            游댌 Google\r\n          </a>\r\n        </div>\r\n\r\n        {/* Calificaci칩n (solo para no-viendo) */}\r\n        {!isWatching && (\r\n          <div style={styles.starContainer}>\r\n            {anime.estado === 'completado' && anime.calificacion > 0 ? (\r\n              [1,2,3,4,5].map(n => (\r\n                <Star \r\n                  key={n} \r\n                  size={16} \r\n                  style={{ \r\n                    fill: n <= anime.calificacion ? '#facc15' : 'none',\r\n                    color: n <= anime.calificacion ? '#facc15' : '#d1d5db'\r\n                  }}\r\n                />\r\n              ))\r\n            ) : (\r\n              <span style={{ color: '#9ca3af', fontSize: '0.75rem' }}>\r\n                {anime.estado === 'abandonado' ? 'Abandonado' : 'Sin calificar'}\r\n              </span>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {/* Acciones */}\r\n        <div>\r\n          {isEditing ? (\r\n            <div style={styles.editButtons}>\r\n              <button\r\n                onClick={handleSaveEdit}\r\n                style={{ ...styles.iconButton, background: '#10b981', color: 'white' }}\r\n              >\r\n                <Save size={16} />\r\n              </button>\r\n              <button\r\n                onClick={() => {\r\n                  setIsEditing(false);\r\n                  setEditedData({\r\n                    nombre: anime.nombre,\r\n                    tipo: anime.tipo\r\n                  });\r\n                }}\r\n                style={{ ...styles.iconButton, background: '#ef4444', color: 'white' }}\r\n              >\r\n                <X size={16} />\r\n              </button>\r\n            </div>\r\n          ) : (\r\n            <button \r\n              ref={menuButtonRef}\r\n              onClick={(e) => {\r\n                e.stopPropagation();\r\n                setShowMenu(!showMenu);\r\n              }}\r\n              style={styles.menuButton}\r\n              onMouseOver={(e) => e.target.style.background = '#f3f4f6'}\r\n              onMouseOut={(e) => e.target.style.background = 'transparent'}\r\n            >\r\n              <MoreVertical size={20} style={{ color: '#6b7280' }} />\r\n            </button>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Men칰 renderizado como portal */}\r\n      {menuContent}\r\n\r\n      {/* Modal de Calificaci칩n */}\r\n      {showRating && (\r\n        <div style={styles.overlay} onClick={() => setShowRating(false)}>\r\n          <div style={styles.modal} onClick={(e) => e.stopPropagation()}>\r\n            <h3 style={styles.modalTitle}>Califica \"{anime.nombre}\"</h3>\r\n            <div style={styles.starsContainer}>\r\n              {[1,2,3,4,5].map(n => (\r\n                <button\r\n                  key={n}\r\n                  onClick={() => setRating(n)}\r\n                  style={styles.starButton}\r\n                  onMouseOver={(e) => e.currentTarget.style.transform = 'scale(1.1)'}\r\n                  onMouseOut={(e) => e.currentTarget.style.transform = 'scale(1)'}\r\n                >\r\n                  <Star \r\n                    size={32} \r\n                    style={{ \r\n                      fill: n <= rating ? '#facc15' : 'none',\r\n                      color: n <= rating ? '#facc15' : '#d1d5db'\r\n                    }}\r\n                  />\r\n                </button>\r\n              ))}\r\n            </div>\r\n            <div style={styles.modalButtons}>\r\n              <button\r\n                onClick={() => setShowRating(false)}\r\n                style={{ ...styles.actionButton, background: '#e5e7eb', color: '#1f2937' }}\r\n                onMouseOver={(e) => e.target.style.background = '#d1d5db'}\r\n                onMouseOut={(e) => e.target.style.background = '#e5e7eb'}\r\n              >\r\n                Cancelar\r\n              </button>\r\n              <button\r\n                onClick={handleFinish}\r\n                disabled={rating === 0}\r\n                style={{ \r\n                  ...styles.actionButton, \r\n                  background: rating === 0 ? '#d1d5db' : '#9333ea', \r\n                  color: 'white',\r\n                  cursor: rating === 0 ? 'not-allowed' : 'pointer'\r\n                }}\r\n                onMouseOver={(e) => {\r\n                  if (rating > 0) e.target.style.background = '#7c3aed';\r\n                }}\r\n                onMouseOut={(e) => {\r\n                  if (rating > 0) e.target.style.background = '#9333ea';\r\n                }}\r\n              >\r\n                Finalizar\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AnimeCard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}